<% model_class = Result %>

<div class="page-header">
  <h2>Palpita Aí Manolo!</h2>
</div>

<table class="table table-striped">
  <!--<thead>
    <tr>
      <th>Data e Horário</th>
      <th>Local</th>
      <th></th>
      <th></th>
      <th>Jogo</th>
      <th></th>
      <th></th>
    </tr>
  </thead>-->
  <tbody>
    <% @all_matches.each do |match| %>
      <tr>
        <%= form_for Result.new, :remote => true do |f| %>
          <%= f.hidden_field :match_id, :value => match.id %>
          <td class='span3'><%= l match.date, :format => :short %></td>
          <!--<td><%= match.locale %></td>-->
          <td class='span2'><%= image_tag(match.team1.flag) %></td>
          <td class='span2'><%= f.text_field :result1, :class => 'input-mini match', :title =>"Digite aqui seu Palpite!" %></td>
          <td class='span2'><%= match.team1.name %><br>
            <span class="badge badge-info" title="Resultado da partida"><%= is_nil match.final_result1 %></span>
          </td>
          <td class='span2'><i class="icon-asterisk"></i></td>
          <td class='span2'><%= match.team2.name %><br>
            <span class="badge badge-info" title="Resultado da partida"><%= is_nil match.final_result2 %></span>
          </td>
          <td class='span2'><%= f.text_field :result2, :class => 'input-mini match', :title =>"Digite aqui seu Palpite!"%></td>
          <td class='span2'><%= image_tag(match.team2.flag) %></td>
          <td class='span2'><%= f.submit "Palpitar", :class => 'btn btn-primary' %></td>
        <% end %>
      </tr>
      
    <% end %>
  </tbody>
</table>

<script type="text/javascript">
  
  $(document).ready(function() {
    $('.new_result').bind('ajax:success', function(evt, data, status, xhr) {  
      alert(data.message + ' ' + data.result + ' ' + data.result_id);
    }); 
  });  

  /*function IsStringEmpty(str)
  {
    if(str && str != '') 
      return false;
    else
      return true;
  }

  function FormValidate(form)
  {
    if(IsStringEmpty(form.result_result1.value))
    {
      return false;
    }
    if(IsStringEmpty(form.result_result2.value))
    {
      return false;
    }
    return true;
  }*/
</script>
